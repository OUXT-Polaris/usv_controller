<launch>
    <arg name="use_sim_time" default="false"/>
    
    <node_container pkg="rclcpp_components" exec="component_container_mt" name="controller_container" namespace="control" args="">
        <composable_node pkg="playstation_controller_drivers" plugin="playstation_controller_drivers::DualsenseDriverComponent" name="joy_node" namespace="control">
            <param name="use_sim_time" value="$(var use_sim_time)"/>
            <param name="use_intra_process_comms" value="true"/>
        </composable_node>

        <composable_node pkg="usv_controller" plugin="usv_controller::UsvControllerComponent" name="controller_node" namespace="control">
            <param name="use_sim_time" value="$(var use_sim_time)"/>
            <param name="use_intra_process_comms" value="true"/>
        </composable_node>
    </node_container>
</launch>